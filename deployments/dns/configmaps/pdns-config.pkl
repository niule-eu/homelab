import "package://pkg.pkl-lang.org/pkl-k8s/k8s@1.2.1#/K8sResource.pkl"
import "package://pkg.pkl-lang.org/pkl-k8s/k8s@1.2.1#/api/core/v1/ConfigMap.pkl"

hidden pdns_auth_port : Int = 5300

resources: Listing<K8sResource> = new {
  new ConfigMap {
    metadata {
      name = "pdns-config"
    }
    data {
      ["pdns.conf"] = """
        local-port=\(pdns_auth_port)
        log-dns-queries=yes
        log-dns-details=yes
        loglevel=6
        """
    }
  }
}